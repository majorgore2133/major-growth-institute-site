<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>MGI Client Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<!-- PDF.js for client-side PDF text extraction -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
<script>
  if (window['pdfjsLib']) {
    pdfjsLib.GlobalWorkerOptions.workerSrc =
      "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js";
  }
</script>

<style>
/* --- Fix for scroll freeze / wheel not working --- */
#lenderList, .scrollbox, .lender-scroll, #lenders {
  overflow-y: auto !important;
  max-height: 70vh !important;
  -webkit-overflow-scrolling: touch; /* smooth mobile scrolling */
}

body, html {
  overscroll-behavior: contain;
}

section, div, .panel {
  pointer-events: auto !important;
}

/* --- Main styling starts here --- */
:root{
  --blue:#0b5fa5; --dark:#0b2d4a; --gold:#caa43b; --ink:#142433;
  --muted:#6b7b8c; --paper:#fff; --soft:#f5f8fc; --bd:#e6eef6
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:linear-gradient(180deg,#f8fbff,#fff);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--ink)
}
header{background:#003366;color:#fff;padding:16px;text-align:center;font-weight:800;letter-spacing:.2px}
.container{max-width:1100px;margin:18px auto;padding:0 14px}
.nav{display:flex;gap:10px;flex-wrap:wrap}
.tab{
  padding:10px 14px;border:1px solid var(--bd);border-radius:12px;background:#fff;
  cursor:pointer;font-weight:700
}
.tab.active{
  background:linear-gradient(180deg,#fff,#f6f9ff);
  border-color:#d7e6f7; box-shadow:0 10px 26px rgba(11,95,165,.12)
}
.grid{display:grid;gap:16px}
.two{grid-template-columns:1.2fr .8fr}
@media(max-width:980px){.two{grid-template-columns:1fr}}
.card{
  background:#fff;border:1px solid var(--bd);border-radius:16px;
  box-shadow:0 16px 40px rgba(8,68,120,.08);padding:16px
}
h2{margin:4px 0 10px;color:var(--dark)}
h3{margin:8px 0}
p.mini{color:var(--muted);font-size:12px;margin:6px 0}
.row{display:flex;gap:10px;flex-wrap:wrap}
.input, select, textarea{
  width:100%;padding:10px;border:1px solid var(--bd);border-radius:10px;background:#fff
}
.badge{display:inline-block;background:#eef5fb;color:#0b5fa5;padding:4px 8px;border-radius:999px;font-size:12px;font-weight:800}
.btn{
  background:var(--blue);color:#fff;border:0;border-radius:12px;
  padding:10px 14px;font-weight:800;cursor:pointer;
  box-shadow:0 12px 28px rgba(11,95,165,.16)
}
.btn.gold{
  background:linear-gradient(90deg,#f8e7b0,#e8c86e,#caa43b);
  color:#1b2330
}
.btn.ghost{background:#fff;border:2px solid #e1ecf6;color:#0b2d4a}
.pill{
  display:inline-block;padding:8px 10px;border-radius:12px;background:#fcfdff;
  border:1px solid #e7eff7;margin:4px 6px 0 0
}

/* Gradient progress (red → yellow → green) */
.progress{height:12px;background:#edf3fb;border-radius:999px;overflow:hidden;position:relative}
.progress > span{
  display:block;height:100%;
  background:linear-gradient(90deg,#d72638,#f0b429,#2bb673);
  transition:width .35s ease
}

.badge-goal{display:inline-block;padding:6px 10px;border-radius:999px;background:#fff5e0;border:1px solid #f3d28a;color:#875d00;font-weight:800}

footer{margin:26px 0 20px;text-align:center;color:#6b7b8c}

/* loading overlay */
#app-loading{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
  background:#ffffffea;z-index:9999
}
.logo-spin{width:56px;height:56px;border-radius:50%;border:6px solid #e6eef6;border-top-color:#0b5fa5;animation:spin .9s linear infinite;margin-right:12px}
@keyframes spin{to{transform:rotate(360deg)}}

/* helper blocks */
.tip{
  background:#f8fbff;border:1px dashed #d9e7f7;border-radius:12px;padding:10px;margin-top:8px
}
.kv{display:grid;grid-template-columns:140px 1fr;gap:6px;font-size:13px}
@media(max-width:560px){.kv{grid-template-columns:1fr}}
.badge-ok{color:#2bb673}
.badge-warn{color:#f0b429}
.badge-bad{color:#d72638}

/* milestone chips */
.mchip{
  border:1px solid #e7eff7;background:#fcfdff;border-radius:999px;padding:8px 12px;margin:6px 8px 0 0;display:inline-flex;gap:8px;align-items:center
}
.mchip.done{border-color:#c8efd8;background:#f3fff7}
</style>
</head>
<body>
<div id="app-loading">
  <div class="logo-spin"></div>
  <div>
    <div style="font-weight:800;color:#003366">Major Growth Institute</div>
    <div style="font-size:12px;color:#6b7b8c">Loading your dashboard…</div>
  </div>
</div>

<header>Major Growth Institute — Client Dashboard</header>
<div class="container">

  <!-- Top bar -->
  <div class="row" style="justify-content:space-between;align-items:center;margin-bottom:12px">
    <div><span class="badge" id="who"></span></div>
    <div class="row" style="gap:8px">
      <button id="logout" class="btn gold">Log out</button>
    </div>
  </div>

  <!-- Tabs -->
  <div class="nav" id="tabs">
    <div class="tab active" data-tab="overview">Overview</div>
    <div class="tab" data-tab="analyzer">Analyzer</div>
    <div class="tab" data-tab="upload">AI Reader</div>
    <div class="tab" data-tab="milestones">Milestones</div>
    <div class="tab" data-tab="reports">Reports</div>
    <div class="tab" data-tab="support">Support</div>
  </div>

  <!-- (All your other panels remain unchanged) -->
  <!-- ... existing code continues exactly as you posted ... -->

<!-- SCROLL FIX SCRIPT -->
<script>
document.addEventListener('wheel', (e) => {
  const el = e.target.closest('#lenderList, .scrollbox, .lender-scroll, #lenders');
  if (el) el.scrollTop += e.deltaY;
}, { passive: true });
</script>

</body>
</html>
